| {% load static %}
doctype
html.no-js(lang="ru", manifest="{% static 'zhuravlev/app.manifest' %}")
  head
    meta(charset="UTF-8")
    meta(
      name="viewport",
      content="width=device-width, initial-scale=1.0"
    )
    meta(
      http-equive="X-UA-Compatible",
      content="IE=edge"
    )
    | {% block meta %}
    | {% endblock %}

    | {% block title %}
    | {% endblock %}
    link(
      rel="manifest", 
      href="{% static 'zhuravlev/manifest.json' %}"
    )
    link(
        rel="shortcut icon", 
        type="image/x-icon", 
        href="{% static 'zhuravlev/img/favicon.ico' %}"
    )
    style.
      .curtain {
        margin: 0;
        padding: 0;
        background-color: #445f3e;
        padding-top: 35vh;
        height: 100%;
        width: 100%;
        position: fixed;
        top: 0;
        left: 0;
        z-index: 100;
      }
      .sk-cube-grid {
        width: 80px;
        height: 80px;
        margin: 80px auto;
        /*
         * Spinner positions
         * 1 2 3
         * 4 5 6
         * 7 8 9
         */ }
        .sk-cube-grid .sk-cube {
          width: 33.33%;
          height: 33.33%;
          background-color: #f4f4f4;
          float: left;
          -webkit-animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out;
                  animation: sk-cubeGridScaleDelay 1.3s infinite ease-in-out; }
        .sk-cube-grid .sk-cube1 {
          -webkit-animation-delay: 0.2s;
                  animation-delay: 0.2s; }
        .sk-cube-grid .sk-cube2 {
          -webkit-animation-delay: 0.3s;
                  animation-delay: 0.3s; }
        .sk-cube-grid .sk-cube3 {
          -webkit-animation-delay: 0.4s;
                  animation-delay: 0.4s; }
        .sk-cube-grid .sk-cube4 {
          -webkit-animation-delay: 0.1s;
                  animation-delay: 0.1s; }
        .sk-cube-grid .sk-cube5 {
          -webkit-animation-delay: 0.2s;
                  animation-delay: 0.2s; }
        .sk-cube-grid .sk-cube6 {
          -webkit-animation-delay: 0.3s;
                  animation-delay: 0.3s; }
        .sk-cube-grid .sk-cube7 {
          -webkit-animation-delay: 0.0s;
                  animation-delay: 0.0s; }
        .sk-cube-grid .sk-cube8 {
          -webkit-animation-delay: 0.1s;
                  animation-delay: 0.1s; }
        .sk-cube-grid .sk-cube9 {
          -webkit-animation-delay: 0.2s;
                  animation-delay: 0.2s; }
        @-webkit-keyframes sk-cubeGridScaleDelay {
          0%, 70%, 100% {
            -webkit-transform: scale3D(1, 1, 1);
                    transform: scale3D(1, 1, 1); }
          35% {
            -webkit-transform: scale3D(0, 0, 1);
                    transform: scale3D(0, 0, 1); } }
        @keyframes sk-cubeGridScaleDelay {
          0%, 70%, 100% {
            -webkit-transform: scale3D(1, 1, 1);
                    transform: scale3D(1, 1, 1); }
          35% {
            -webkit-transform: scale3D(0, 0, 1);
                    transform: scale3D(0, 0, 1); } }
    //- script(type="text/javascript",src="//vk.com/js/api/openapi.js?146")
  body
    .curtain
      .sk-cube-grid
        .sk-cube.sk-cube1
        .sk-cube.sk-cube2
        .sk-cube.sk-cube3
        .sk-cube.sk-cube4
        .sk-cube.sk-cube5
        .sk-cube.sk-cube6
        .sk-cube.sk-cube7
        .sk-cube.sk-cube8
        .sk-cube.sk-cube9
    include blocks/header/header.pug

    | {% block content %}
    | {% endblock %}
    include blocks/footer/footer.pug    
    
    script.
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-103835197-2', 'auto');  
      ga('send', 'pageview');

    script.
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register("{% static '/zhuravlev/sw.js' %}")
          .then(function(reg){
            
          }).catch(function(err) {
            console.log("No it didn't. This happened: ", err)
          });
      }
    script(async, src="{% static 'zhuravlev/js/main.js' %}", type="application/javascript")
    link(
        rel="stylesheet",
        href="//cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.2/semantic.min.css"
    )
    link(
      rel="stylesheet",
      href="{% static 'zhuravlev/css/main.css' %}",
      type="text/css",
      media='none',
      onload="if (media !== 'all') media = 'all'",
      lazyload="1"
    ) 
    link(
      rel="stylesheet",
      href="{% static 'zhuravlev/css/ie-10-up.css' %}",
      type="text/css",
      media='none',
      onload="if (media !== 'all') media = 'all'",
      lazyload="1"
    )
    <!--[if lt IE 9]>
    <script async src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js">
    <script async src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js">
    <![endif]-->

    <!--[if IE]><link type="text/css" rel="stylesheet" href="{% static 'zhuravlev/css/ie9.css' %}" lazyload="1" /><![endif]-->
